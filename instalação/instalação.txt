                    BEM VINDO À INSTALAÇÃO DO SERVIDOR PROXY

1- PREPARAÇÃO DO SISTEMA
no terminal digite:
sudo apt-get updade && apt-get upgrade

2- INSTALAÇÃO DO SSH e VNC
no terminal digite:
sudo raspi-config
em interface options, habilite(enable) o VNC e o SSH

3- INSTALAÇÃO DO ANYDESK
no navegado entre no site oficial da ANYDESK (https://anydesk.com/pt/downloads/raspberry-pi), baixe o arquivo
no terminal, navegue ate a pasta onde o arquivo ANYDESK foi baixado(geralmente na pasta de Downloads)
digite:
sudo dpkg -i anydesk_6.1.1-1_armhf.deb
caso ocorra alguns erro, digite:
sudo apt install -f
e depois repita o processo do "dpkg"
obs: aqui como exemplo a verção do ANYDESK é "6.1.1-1", mas com o tempo, essa verção pode variar.

4- DEFINIR O IP FIXO PARA REDE CABEADA E WI-FI
no terminal digite:
sudo nano /etc/dhcpcd.conf
encontre essas linhas no fim do arquivo e deixe-as como as do exemplo
(as linhas devem conter o caractere '#', e devem estar ideinticas as de baixo, caso necessario escreva as linhas faltantes)

# Example static IP configuration:
interface eth0
static ip_address=192.168.0.250/24
#static ip6_address=fd51:42f8:caae:d92e::ff/64
static routers=192.168.0.1
static domain_name_servers=192.168.0.1 8.8.8.8 fd51:42f8:caae:d92e::1

interface wlan0
static ip_address=192.168.0.251/24
#static ip6_address=fd51:42f8:caae:d92e::ff/64
static routers=192.168.0.1
static domain_name_servers=192.168.0.1 8.8.8.8 fd51:42f8:caae:d92e::1

obs: "static routers", é o endereço ip do seu gatway(ex: modem da net ou do roteador que distribui os ip's na rede)

5- INSTAÇÃO DO SQUID
no terminl linux, digite:
sudo apt update
sudo apt install squid

navegue até a pasta do SQUID (cd /etc/squid)
digite:
sudo cp squid.conf squid.conf.datadobackup

6- INSTALAÇÃO DO LAMP
instala o APACHE(servidor web), o MYSQL(banco de dados) e o PHP(linguagem de programação para montar uma aplicaço web)

    6.1- INSTALAÇÃO DO APACHE
    no terminal linux digite:
    sudo apt-get update
    sudo apt install apache2 -y

    6.2- INSTALAÇÃO DO PHP
    no terminal linux digite:
    sudo apt install php -y

    6.3- INSTALAÇÃO DO MYSQL (MariaDB Server)
    no terminal linux digite:
    sudo apt install mariadb-server php-mysql -y
    sudo service apache2 restart

        6.3.1- CONFIGURANDO O MYSQL
        no terminal linux digite:
        sudo mysql_secure_installation
        
        será pedida uma senha para o usuario root (a senha colocada foi: squidroot "precione enter"
        Digite Y e pressione Enter para definir a senha de root
        Digite uma senha no prompt Nova senha: e pressione Enter. 
        Importante: lembre-se desta senha de root, pois você precisará dela mais tarde
        Digite Y para remover usuários anônimos
        *** Digite n para proibir o login de root remotamente
        Digite Y para remover o banco de dados de teste e acesse-o
        Digite Y para recarregar as tabelas de privilégios agora

        obs: Esses comandos criarão um novo usuário com nome (admin) e senha (sua_senha).
        Caso seja necessario.
        no terminal linux digite:
        sudo mysql --user=root --password
        > create user admin@localhost identified by 'sua_senha';  // as aspas simples devem ser mantidas, e o admin pode ser substituido pelo nome que você quiser, sucedido por @localhost
        > grant all privileges on *.* to admin@localhost;
        > FLUSH PRIVILEGES;
        > exit;

7- INSTALAÇÃO DO PHPMYADMIN (GERENCIADOR GRÁFICO DO BANCO DE DADOS)
no terminal linux digite:
sudo apt install phpmyadmin -y
    Selecione Apache2 quando solicitado e pressione a tecla Enter
    Configurando o phpmyadmin ? 
    selecione OK
    Configurar banco de dados para phpmyadmin com dbconfig-common ?
    selecione SIM
    Digite sua senha e pressione OK (senha: squid_raspberry)

sudo phpenmod mysqli
sudo service apache2 restart

obs: o acesso ao phpmyadmin é feito pelo navegador, digitando o endereço: http://localhost/phpmyadmin/
em caso de algum erro, como "NOT FOUND", execute no terminal linux o seginte comando:
sudo ln -s /usr/share/phpmyadmin /var/www/html/phpmyadmin
    
obs-2: caso haja problemas para logar com o usuario root, siga esse comando para redefenir a senha do root no phpmyadmin.
no terminal linux digite:
sudo systemctl stop mysql
sudo systemctl stop mariadb
sudo mysqld_safe --skip-grant-tables --skip-networking &
mysql -u root
FLUSH PRIVILEGES;
ALTER USER 'root'@'localhost' IDENTIFIED BY 'nova-senha';   // em caso de algum erro, tente este comando: SET PASSWORD FOR 'root'@'localhost' = PASSWORD('nova-senha');
                                                            // Certifique-se de substituir nova-senha pela senha que você vai querer colocar para o seu usuário root.
FLUSH PRIVILEGES;
exit;
sudo systemctl start mysql
sudo systemctl start mariadb
PARA GARANTIR QUE TUDO FUNCIONE PERFEITAMENTE, REINICIE O SISTEMA.




    


